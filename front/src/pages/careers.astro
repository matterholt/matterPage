---
import { render } from "astro:content";
import { getCollection } from "astro:content";

import Layout from "../layouts/Layout.astro";
import Text from "../components/base/text/Text.astro";
import JobDetails from "../components/custom/JobDetails.astro";
import JobAccomplishments from "../components/custom/JobAccomplishments.astro";

const allJobPositionHeld = await getCollection("positions");
const jobAccomplishments = await getCollection("accomplishments");

const orderedPosition = allJobPositionHeld.sort(
  (a, b) => b.data.id - a.data.id,
);
---

<Layout title="Careers" activePage="Careers">
  <Text tag="h1">Career History</Text>
  <Text tag="p">
    I have work in automotive engineering for a decade and a half. Competed in
    maker layout competitions for automakers such as Honda, Tesla and GMC. Setup
    and performed analysis on 3d models to build confidence in safety and
    reliability in the parts for automakers.
  </Text>
  <Text tag="p">
    Able to use leverage programming for daily task, I enjoyed programming and
    choose to pursue a career in software development. I have many work on large
    project and stressful deadlines. I'm self taught and eager to understand and
    be better at my craft.
  </Text>
  <hr />
  <div class="career">
    <div>
      {
        orderedPosition.map((x) => (
          <div>
            <JobDetails jobPositions={x} />
            <hr />
          </div>
        ))
      }
    </div>

    <aside class="career__aside">
      <Text tag="h2">Accomplishments</Text>
      <div>
        {
          jobAccomplishments.map((x) => (
            <JobAccomplishments accomplishment={x} />
          ))
        }
      </div>
    </aside>
  </div>
</Layout>
<style>
  .career {
    display: grid;
    grid-template-columns: 2fr 1fr;
  }
  .career__aside {
    background-color: rgb(37, 37, 39);
  }

  @media screen and (max-width: 790px) {
    .career {
      display: grid;
      grid-template-columns: 1fr;
      grid-template-rows: 1fr 1fr;
    }
  }
</style>
