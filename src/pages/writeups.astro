---
import Main from "@layouts/html/Main.astro";
import BlogMain from "@layouts/sections/BlogMain.astro";
import { writeUpPostListings } from "@utils/helpers/blog_dates/index";

const allPost = await Astro.glob("../pages/posts/*.md");

const postListDataStruct = (postGlob) => ({
  postTitle: postGlob.frontmatter.title,
  postUrl: postGlob.url,
  date: new Date(postGlob.frontmatter.pubDate.slice(0, 10)),
});

const [thisYearsPost, previousYearsPost] = writeUpPostListings(allPost);
---

<Main pageId="writeups">
  <BlogMain>
    <h3>Latest Published</h3>
    <ul></ul>

    <h3>most current</h3>

    <ul>
      {thisYearsPost.map((post) => <li>{JSON.stringify(post)}</li>)}
    </ul>
    <h3>Previous Year</h3>
    <ul>
      {previousYearsPost.map((post) => <li>{JSON.stringify(post)}</li>)}
    </ul>
  </BlogMain>
</Main>
<style>
  h3 {
    font-weight: 900;
    font-size: 30px;
  }
  ul {
    margin-bottom: 50px;
  }
</style>
<script></script>
