---
import { Content, Heading } from "@components/lib_comps";
import * as data from "@utils/writeUps/jobHistory/index.json";
import SectionContainer from "../SectionContainer.astro";
import JobPostions from "@components/blocks/JobPostions.astro";

const { currentPostion = false, sectionTitle = "Professional history" } =
  Astro.props;

const {
  AutomotiveValidationEngineering,
  AutomotiveDesignEngineering,
  MenuApplicationDeveloper,
} = data;
---

<SectionContainer parentColor="bgLight">
  <Heading>
    <Content elementTag="h2">
      {sectionTitle}
    </Content>
  </Heading>
  <slot />

  <JobPostions
    title={MenuApplicationDeveloper?.title}
    description={MenuApplicationDeveloper?.description}
    positions={MenuApplicationDeveloper?.positions}
  />

  {
    !currentPostion ? (
      <>
        <JobPostions
          title={AutomotiveDesignEngineering?.title}
          description={AutomotiveDesignEngineering?.description}
          positions={AutomotiveDesignEngineering?.positions}
        />
        <JobPostions
          title={AutomotiveValidationEngineering?.title}
          description={AutomotiveValidationEngineering?.description}
          positions={AutomotiveValidationEngineering?.positions}
        />
      </>
    ) : null
  }
</SectionContainer>
