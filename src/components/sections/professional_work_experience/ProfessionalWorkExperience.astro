---
import { Text, Heading } from "@components/lib_comps/index";
import { TopCurve, BottomCurve } from "@components/svg";

import * as data from "./data/jobHistory.json";
import { JobPositions, SectionContainer } from "@components/blocks/";

const { currentPostion = false, sectionTitle = "Professional history" } =
  Astro.props;

const {
  AutomotiveValidationEngineering,
  AutomotiveDesignEngineering,
  MenuApplicationDeveloper,
} = data;
---

<SectionContainer Cssvars={{ sectionMarginControl: "150px 0 0 0 " }}>
  <div class="wicked_curve_offset">
    <TopCurve />
  </div>

  <Heading>
    <Text tag="h2">
      {sectionTitle}
    </Text>
  </Heading>
  <slot />

  <JobPositions
    title={MenuApplicationDeveloper?.title}
    description={MenuApplicationDeveloper?.description}
    positions={MenuApplicationDeveloper?.positions}
  />

  {
    !currentPostion ? (
      <>
        <JobPositions
          title={AutomotiveDesignEngineering?.title}
          description={AutomotiveDesignEngineering?.description}
          positions={AutomotiveDesignEngineering?.positions}
        />
        <JobPositions
          title={AutomotiveValidationEngineering?.title}
          description={AutomotiveValidationEngineering?.description}
          positions={AutomotiveValidationEngineering?.positions}
        />
      </>
    ) : null
  }
</SectionContainer>
<style>
  .wicked_curve_offset {
    position: relative;
  }
</style>
